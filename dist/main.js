(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}const t=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=n}var n,o;return n=t,(o=[{key:"_hideErrorMessage",value:function(e){var t=this._form.querySelector("#"+e.id+"-error");t.textContent="",t.classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass)}},{key:"_showErrorMessage",value:function(e){var t=this._form.querySelector("#"+e.id+"-error");t.textContent=e.validationMessage,t.classList.add(this._errorClass),e.classList.add(this._inputErrorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideErrorMessage(e):this._showErrorMessage(e)}},{key:"_toggleButtonState",value:function(e){Array.from(this._form.querySelectorAll(this._inputSelector)).every((function(e){return e.validity.valid}))?e.classList.remove(this._inactiveButtonClass):e.classList.add(this._inactiveButtonClass)}},{key:"_setEventListeners",value:function(){var e=this,t=Array.from(this._form.querySelectorAll(this._inputSelector)),n=this._form.querySelector(this._submitButtonSelector);t.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState(n)}))}))}},{key:"enableValidation",value:function(){var e=this,t=this._form.querySelector(this._submitButtonSelector);this._form.addEventListener("submit",(function(n){n.preventDefault(),t.classList.add(e._inactiveButtonClass)})),this._setEventListeners()}}])&&e(n.prototype,o),t}();function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}const o=function(){function e(t,n,o,r,i,u,a,c,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._id=t._id,t.hasOwnProperty("likes")?this._likes=t.likes:this._likes=[],t.hasOwnProperty("owner")?this._owner=t.owner._id:this._owner=n,this._userID=n,this._templateSelector=o,this._openPopUpOnClick=r,this._openConfirmDelete=i,this._updateApiDelete=u,this._updateApiAddLike=a,this._updateApiRemoveLike=c,this._confirmButton=s}var t,o;return t=e,(o=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".element")}},{key:"_confirmToDelete",value:function(e){var t=this;console.log(this._confirmButton),this._confirmButton.addEventListener("click",(function(){t._confirmButton.id+"ok"===e.id&&(console.log(t._confirmButton.id+"ok"===e.id),e.closest(".element").remove())}))}},{key:"_handleDeleteButton",value:function(){var e=this,t=this._card.querySelector(".delete-button");this._owner===this._userID?t.addEventListener("click",(function(){e._openConfirmDelete(),e._confirmButton.setAttribute("id",e._id),t.setAttribute("id",e._id+"ok"),e._confirmToDelete(t)})):t.remove()}},{key:"_likeElement",value:function(e){e.classList.toggle("like-button_activated"),e.classList.contains("like-button_activated")?this._updateApiAddLike(this,this._id):this._updateApiRemoveLike(this,this._id)}},{key:"_handleLikeButton",value:function(){var e=this,t=this._card.querySelector(".like-button");this._likes.some((function(t){return t._id===e._userID}))&&t.classList.add("like-button_activated"),t.addEventListener("click",(function(){e._likeElement(t)}))}},{key:"_handleCardClick",value:function(){var e=this;this._card.querySelector(".element__image").addEventListener("click",(function(){e._openPopUpOnClick(e._link,e._name)}))}},{key:"updateLikes",value:function(e){this._card.querySelector(".element__like-count").textContent=e}},{key:"getCardId",value:function(){return this._id}},{key:"createCard",value:function(){this._card=this._getTemplate().cloneNode(!0);var e=this._card.querySelector(".element__image");return this._card.querySelector(".element__title").textContent=this._name,e.src=this._link,e.alt="".concat(this._name," picture"),this._handleLikeButton(),this._handleCardClick(),this.updateLikes(this._likes.length),this._handleDeleteButton(),this._card}}])&&n(t.prototype,o),e}();function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._closeButton=this._popupElement.querySelector(".close-button"),this._overlay=this._popupElement.querySelector(".popup__overlay"),this._handleCloseByEscape=this._handleCloseByEscape.bind(this)}var t,n;return t=e,(n=[{key:"openPopUp",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleCloseByEscape)}},{key:"closePopUp",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleCloseByEscape)}},{key:"_handleCloseByEscape",value:function(e){"Escape"===e.key&&this.closePopUp()}},{key:"setEventListeners",value:function(){var e=this;this._closeButton.addEventListener("click",(function(){e.closePopUp()})),this._overlay.addEventListener("click",(function(){e.closePopUp()}))}}])&&r(t.prototype,n),e}();function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(o);if(r){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupPicture=t._popupElement.querySelector(".popup__picture"),t._popupCaption=t._popupElement.querySelector(".popup__picture-caption"),t}return t=u,(n=[{key:"openPopUp",value:function(e,t){this._popupPicture.src=e,this._popupCaption.textContent=t,this._popupPicture.alt="".concat(this._name," picture"),c(f(u.prototype),"openPopUp",this).call(this)}}])&&a(t.prototype,n),u}(i);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(o);if(r){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._formSubmit=t,n._formElement=n._popupElement.querySelector(".popup__form"),n._inputs=Array.from(n._formElement.querySelectorAll(".popup__input")),n}return t=u,(n=[{key:"getInputValues",value:function(){var e={};return this._inputs.forEach((function(t){var n=t.name,o=t.value;e[n]=o})),console.log(e),e}},{key:"openPopUp",value:function(){this.getInputValues(),d(m(u.prototype),"openPopUp",this).call(this)}},{key:"closePopUp",value:function(){d(m(u.prototype),"closePopUp",this).call(this),this._formElement.reset()}},{key:"setEventListeners",value:function(){var e=this;d(m(u.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._formSubmit()}))}}])&&_(t.prototype,n),u}(i);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t,n){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(o);if(r){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return C(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._confirmButton=n._popupElement.querySelector(".confirm-button"),n._updateApiDelete=t,n}return t=u,(n=[{key:"_deleteCard",value:function(){this._deleteCardId=this._confirmButton.getAttribute("id"),this._updateApiDelete(this._deleteCardId)}},{key:"setEventListeners",value:function(){var e=this;S(w(u.prototype),"setEventListeners",this).call(this),this._confirmButton.addEventListener("click",(function(){e._deleteCard()}))}}])&&k(t.prototype,n),u}(i);function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var L=function(){function e(t,n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameValue=t,this._aboutValue=n,this._avatarImage=o,this._nameInput=r,this._aboutInput=i}var t,n;return t=e,(n=[{key:"getUserId",value:function(){return this._id}},{key:"getUserName",value:function(){return this._nameValue.textContent}},{key:"getUserAbout",value:function(){return this._aboutValue.textContent}},{key:"getUserAvatar",value:function(){return this._avatar}},{key:"setUserInfo",value:function(e){this._nameValue.textContent=e.name,this._aboutValue.textContent=e.about,this._avatarImage.style.backgroundImage="url('"+e.avatar+"')"}}])&&O(t.prototype,n),e}();function U(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var I=function(){function e(t,n){var o=t.data,r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=o,this._renderer=r,this._cardContainer=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._renderedItems.forEach((function(t){return e._renderer(t)}))}},{key:"addCard",value:function(e){this._cardContainer.prepend(e)}}])&&U(t.prototype,n),e}();function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}const q=function(){function e(t){var n=t.baseUrl,o=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=o}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getInitialCards",value:function(){var e=this;return fetch(this._baseUrl+"/cards",{headers:this._headers}).then((function(t){return e._checkResponse(t)}))}},{key:"getUserInfo",value:function(){var e=this;return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then((function(t){return e._checkResponse(t)}))}},{key:"editUserInfo",value:function(e,t){var n=this;return fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((function(e){return n._checkResponse(e)}))}},{key:"postNewCard",value:function(e,t){var n=this;return fetch(this._baseUrl+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((function(e){return n._checkResponse(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch(this._baseUrl+"/cards/"+e,{method:"DELETE",headers:this._headers}).then((function(e){return t._checkResponse(e)}))}},{key:"addCardLike",value:function(e){var t=this;return fetch(this._baseUrl+"/cards/likes/"+e,{method:"PUT",headers:this._headers}).then((function(e){return t._checkResponse(e)}))}},{key:"removeCardLike",value:function(e){var t=this;return fetch(this._baseUrl+"/cards/likes/"+e,{method:"DELETE",headers:this._headers}).then((function(e){return t._checkResponse(e)}))}},{key:"editUserAvatar",value:function(e){var t=this;return fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return t._checkResponse(e)}))}}])&&j(t.prototype,n),e}();var B,R,A={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},T=document.querySelector(".edit-button"),x=document.querySelector(".add-button"),D=document.querySelector(".confirm-button"),V=document.querySelector(".popup__form_type_profile"),N=V.querySelector(".popup__input_value_name"),M=V.querySelector(".popup__input_value_about"),J=document.querySelector(".profile__name"),H=document.querySelector(".profile__about"),z=document.querySelector(".save-button"),$=document.querySelector(".popup__form_type_newAvatar"),F=document.querySelector(".saveAvatar-button"),G=document.querySelector(".avatar"),K=document.querySelector(".avatar-hover"),Q=document.querySelector(".popup__form_type_newPlace"),W=(Q.querySelector(".popup__input_value_placeTitle"),Q.querySelector(".popup__input_value_placeImageLink"),document.querySelector(".create-button"));function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}console.log(B);var Y=new q({baseUrl:"https://around.nomoreparties.co/v1/group-7",headers:{authorization:"9df52f9f-cc17-4475-93ad-607c569a3f4b","Content-Type":"application/json"}}),Z=new L(J,H,G,N,M);function ee(e,t){return new o(e,t,".element-template",te,ne,oe,re,ie,D).createCard()}function te(e,t){ae.openPopUp(e,t)}function ne(){ce.openPopUp()}function oe(e){Y.deleteCard(e).then((function(e){console.log(e),ce.closePopUp()})).catch((function(e){console.log(e)}))}function re(e,t){Y.addCardLike(t).then((function(t){console.log(t,t.likes.length);var n=t.likes.length;e.updateLikes(n)})).catch((function(e){console.log(e)}))}function ie(e,t){Y.removeCardLike(t).then((function(t){console.log(t,t.likes.length);var n=t.likes.length;e.updateLikes(n)})).catch((function(e){console.log(e)}))}function ue(e){(R=new I({data:e,renderer:function(e){var t=ee(e,B);R.addCard(t)}},".elements")).renderItems()}Promise.all([Y.getInitialCards(),Y.getUserInfo()]).then((function(e){var t,n,o=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(o=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=o[0],i=o[1];ue(r),console.log(r),console.log(i),B=i._id,Z.setUserInfo(i),N.value=i.name,M.value=i.about,console.log(Z)})).catch((function(e){console.log(e)})),Y.getInitialCards().then((function(e){ue(e),console.log(e)})).catch((function(e){console.log(e)})),Y.getUserInfo().then((function(e){console.log(e),B=e._id,Z.setUserInfo(e),N.value=e.name,M.value=e.about,console.log(Z)})).catch((function(e){console.log(e)}));var ae=new p(".popup_type_picture");ae.setEventListeners();var ce=new P(".popup_type_confirmDelete",oe);ce.setEventListeners();var se=new t(A,V),le=new t(A,Q),fe=new t(A,$);se.enableValidation(),le.enableValidation(),fe.enableValidation();var pe=new b(".popup_type_editProfile",(function(){var e=pe.getInputValues(),t=e.profileNameInput,n=e.profileAboutInput;z.textContent="Saving...",Y.editUserInfo(t,n).then((function(e){console.log(e),z.textContent="Saved",Z.setUserInfo(e),console.log(Z),pe.closePopUp()})).catch((function(e){console.log(e)}))})),he=new b(".popup_type_newPlace",(function(){var e={},t=he.getInputValues(),n=t.placeTitleInput,o=t.placeImageLinkInput;e.name=n,e.link=o,W.textContent="Saving...",Y.postNewCard(n,o).then((function(e){W.textContent="Saved";var t=ee(e,B);R.addCard(t),he.closePopUp()})).catch((function(e){console.log(e)}))})),_e=new b(".popup_type_newAvatar",(function(){var e=_e.getInputValues().avatarLink;""==e?console.log("no input"):(console.log(e),F.textContent="Saving...",Y.editUserAvatar(e).then((function(e){console.log(e),Z.setUserInfo(e),F.textContent="Saved",_e.closePopUp()})).catch((function(e){console.log(e)})))}));pe.setEventListeners(),he.setEventListeners(),_e.setEventListeners(),T.addEventListener("click",(function(){pe.openPopUp(),N.value=Z.getUserName(),M.value=Z.getUserAbout()})),x.addEventListener("click",(function(){he.openPopUp()})),G.addEventListener("click",(function(){_e.openPopUp()})),G.addEventListener("mouseover",(function(){K.style.opacity=1})),G.addEventListener("mouseout",(function(){K.style.opacity=0}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9mb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvcG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvcG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvcG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9wb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvdXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvc2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9hcGkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlL2luZGV4LmpzIl0sIm5hbWVzIjpbInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJ0aGlzIiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtIiwiaW5wdXQiLCJlcnJvciIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsInRleHRDb250ZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJhZGQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVFcnJvck1lc3NhZ2UiLCJfc2hvd0Vycm9yTWVzc2FnZSIsImJ1dHRvbiIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJldmVyeSIsImlucHV0cyIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJjYXJkRGF0YSIsInVzZXJJZCIsInRlbXBsYXRlU2VsZWN0b3IiLCJvcGVuUG9wVXBPbkNsaWNrIiwib3BlbkNvbmZpcm1EZWxldGUiLCJ1cGRhdGVBcGlEZWxldGUiLCJ1cGRhdGVBcGlBZGRMaWtlIiwidXBkYXRlQXBpUmVtb3ZlTGlrZSIsImNvbmZpcm1CdXR0b24iLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfaWQiLCJoYXNPd25Qcm9wZXJ0eSIsIl9saWtlcyIsImxpa2VzIiwiX293bmVyIiwib3duZXIiLCJfdXNlcklEIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfb3BlblBvcFVwT25DbGljayIsIl9vcGVuQ29uZmlybURlbGV0ZSIsIl91cGRhdGVBcGlEZWxldGUiLCJfdXBkYXRlQXBpQWRkTGlrZSIsIl91cGRhdGVBcGlSZW1vdmVMaWtlIiwiX2NvbmZpcm1CdXR0b24iLCJkb2N1bWVudCIsImNvbnRlbnQiLCJkZWxldGVCdXR0b24iLCJjb25zb2xlIiwibG9nIiwiY2xvc2VzdCIsIl9jYXJkIiwic2V0QXR0cmlidXRlIiwiX2NvbmZpcm1Ub0RlbGV0ZSIsImxpa2VCdXR0b24iLCJ0b2dnbGUiLCJjb250YWlucyIsInNvbWUiLCJpIiwiX2xpa2VFbGVtZW50IiwibmV3TGlrZXMiLCJfZ2V0VGVtcGxhdGUiLCJjbG9uZU5vZGUiLCJjcmVhdGVkRWxlbWVudEltYWdlIiwic3JjIiwiYWx0IiwiX2hhbmRsZUxpa2VCdXR0b24iLCJfaGFuZGxlQ2FyZENsaWNrIiwidXBkYXRlTGlrZXMiLCJsZW5ndGgiLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9jbG9zZUJ1dHRvbiIsIl9vdmVybGF5IiwiX2hhbmRsZUNsb3NlQnlFc2NhcGUiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsImNsb3NlUG9wVXAiLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3B1cFBpY3R1cmUiLCJfcG9wdXBDYXB0aW9uIiwiY2FwdGlvbiIsIlBvcHVwV2l0aEZvcm0iLCJmb3JtU3VibWl0IiwiX2Zvcm1TdWJtaXQiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRzIiwiaW5wdXRWYWx1ZXMiLCJ2YWx1ZSIsImdldElucHV0VmFsdWVzIiwicmVzZXQiLCJldnQiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJfZGVsZXRlQ2FyZElkIiwiZ2V0QXR0cmlidXRlIiwiX2RlbGV0ZUNhcmQiLCJVc2VySW5mbyIsIm5hbWVWYWx1ZSIsImFib3V0VmFsdWUiLCJhdmF0YXJJbWFnZSIsIm5hbWVJbnB1dCIsImFib3V0SW5wdXQiLCJfbmFtZVZhbHVlIiwiX2Fib3V0VmFsdWUiLCJfYXZhdGFySW1hZ2UiLCJfbmFtZUlucHV0IiwiX2Fib3V0SW5wdXQiLCJfYXZhdGFyIiwidXNlckRhdGEiLCJhYm91dCIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiYXZhdGFyIiwiU2VjdGlvbiIsImNhcmRDb250YWluZXJTZWxlY3RvciIsImRhdGEiLCJyZW5kZXJlciIsIl9yZW5kZXJlZEl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NhcmRDb250YWluZXIiLCJpdGVtIiwiY2FyZCIsInByZXBlbmQiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm15SWQiLCJjYXJkTGlzdCIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJmb3JtRWxlbWVudFByb2ZpbGUiLCJzYXZlUHJvZmlsZUJ1dHRvbiIsImZvcm1FbGVtZW50QXZhdGFyIiwic2F2ZUF2YXRhckJ1dHRvbiIsImF2YXRhckhvdmVyIiwiZm9ybUVsZW1lbnRQbGFjZSIsImNyZWF0ZVBsYWNlQnV0dG9uIiwiYXBpIiwiQXBpIiwiYXV0aG9yaXphdGlvbiIsInVzZXIiLCJVc2VyaW5mbyIsImNyZWF0ZUNhcmQiLCJuZXdQbGFjZSIsIkNhcmQiLCJwaWN0dXJlUG9wVXAiLCJvcGVuUG9wVXAiLCJjb25maXJtRGVsZXRlUG9wVXAiLCJjYXJkSWQiLCJkZWxldGVDYXJkIiwicmVzdWx0IiwiZXJyIiwiYWRkQ2FyZExpa2UiLCJyZW1vdmVDYXJkTGlrZSIsInVwZGF0ZUNhcmRMaXN0IiwiaW5mbyIsIm5ld0NyZWF0ZWRDYXJkIiwiYWRkQ2FyZCIsInJlbmRlckl0ZW1zIiwiYWxsIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0VXNlckluZm8iLCJjYXJkcyIsInNldFVzZXJJbmZvIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwcm9maWxlRm9ybVZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiLCJwbGFjZUZvcm1WYWxpZGF0b3IiLCJhdmF0YXJGb3JtVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByb2ZpbGVQb3BVcCIsInByb2ZpbGVOYW1lSW5wdXQiLCJwcm9maWxlQWJvdXRJbnB1dCIsImVkaXRVc2VySW5mbyIsIm5ld1BsYWNlUG9wVXAiLCJwbGFjZVRpdGxlSW5wdXQiLCJwbGFjZUltYWdlTGlua0lucHV0IiwicG9zdE5ld0NhcmQiLCJuZXdBdmF0YXJQb3BVcCIsImF2YXRhckxpbmsiLCJlZGl0VXNlckF2YXRhciIsImdldFVzZXJOYW1lIiwi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QUFlbkgsZ0JBTm5CLE9BUVMsU0FBQ3dGLEdBQ054SCxRQUFRQyxJQUFJdUgsVUEyS3BCbUIsR0FBYU4sb0JBRWJVLEdBQWNWLG9CQUVkYyxHQUFlZCxvQkFJZnBDLEVBQVdySSxpQkFBaUIsU0FBUyxXQUNuQytLLEdBQWF4QixZQUNiNUQsUUFBa0JzRCxFQUFLeUMsY0FDdkI5RixRQUFtQnFELEVBQUswQyxrQkFLMUJyRCxFQUFVdEksaUJBQWlCLFNBQVMsV0FDbENtTCxHQUFjNUIsZUFLaEI3RCxFQUFZMUYsaUJBQWlCLFNBQVMsV0FDcEN1TCxHQUFlaEMsZUFJakI3RCxFQUFZMUYsaUJBQWlCLGFBQWEsV0FDeEMySSxnQkFBNEIsS0FHOUJqRCxFQUFZMUYsaUJBQWlCLFlBQVksV0FDdkMySSxnQkFBNEIsTSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IHNldHRpbmdzLmZvcm1TZWxlY3RvclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3NcblxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudFxuICB9XG5cbiAgX2hpZGVFcnJvck1lc3NhZ2UoaW5wdXQpIHtcbiAgICBjb25zdCBlcnJvciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignIycgKyBpbnB1dC5pZCArICctZXJyb3InKVxuICAgIGVycm9yLnRleHRDb250ZW50ID0gJydcbiAgICBlcnJvci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpXG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpXG4gIH1cblxuICBfc2hvd0Vycm9yTWVzc2FnZShpbnB1dCkge1xuICAgIGNvbnN0IGVycm9yID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcjJyArIGlucHV0LmlkICsgJy1lcnJvcicpXG4gICAgZXJyb3IudGV4dENvbnRlbnQgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZVxuICAgIGVycm9yLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcylcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcylcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX2hpZGVFcnJvck1lc3NhZ2UoaW5wdXQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Nob3dFcnJvck1lc3NhZ2UoaW5wdXQpXG4gICAgfVxuICB9XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKGJ1dHRvbikge1xuICAgIGNvbnN0IGlucHV0cyA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKVxuXG4gICAgY29uc3QgZXZlcnlJbnB1dFZhbGlkID0gaW5wdXRzLmV2ZXJ5KGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgcmV0dXJuIGlucHV0LnZhbGlkaXR5LnZhbGlkXG4gICAgfSlcblxuICAgIGlmIChldmVyeUlucHV0VmFsaWQpIHtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpXG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpXG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGlucHV0cyA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKVxuICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvcilcblxuICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dClcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoYnV0dG9uKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICBjb25zdCBidXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpXG5cbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcylcbiAgICB9KVxuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3JcbiIsImNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBjYXJkRGF0YSxcbiAgICB1c2VySWQsXG4gICAgdGVtcGxhdGVTZWxlY3RvcixcbiAgICBvcGVuUG9wVXBPbkNsaWNrLFxuICAgIG9wZW5Db25maXJtRGVsZXRlLFxuICAgIHVwZGF0ZUFwaURlbGV0ZSxcbiAgICB1cGRhdGVBcGlBZGRMaWtlLFxuICAgIHVwZGF0ZUFwaVJlbW92ZUxpa2UsXG4gICAgY29uZmlybUJ1dHRvblxuICApIHtcbiAgICB0aGlzLl9uYW1lID0gY2FyZERhdGEubmFtZVxuICAgIHRoaXMuX2xpbmsgPSBjYXJkRGF0YS5saW5rXG4gICAgdGhpcy5faWQgPSBjYXJkRGF0YS5faWRcblxuICAgIGlmIChjYXJkRGF0YS5oYXNPd25Qcm9wZXJ0eSgnbGlrZXMnKSkge1xuICAgICAgdGhpcy5fbGlrZXMgPSBjYXJkRGF0YS5saWtlc1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saWtlcyA9IFtdXG4gICAgfVxuICAgIGlmIChjYXJkRGF0YS5oYXNPd25Qcm9wZXJ0eSgnb3duZXInKSkge1xuICAgICAgdGhpcy5fb3duZXIgPSBjYXJkRGF0YS5vd25lci5faWRcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fb3duZXIgPSB1c2VySWRcbiAgICB9XG5cbiAgICB0aGlzLl91c2VySUQgPSB1c2VySWRcblxuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yXG5cbiAgICB0aGlzLl9vcGVuUG9wVXBPbkNsaWNrID0gb3BlblBvcFVwT25DbGlja1xuXG4gICAgdGhpcy5fb3BlbkNvbmZpcm1EZWxldGUgPSBvcGVuQ29uZmlybURlbGV0ZVxuXG4gICAgdGhpcy5fdXBkYXRlQXBpRGVsZXRlID0gdXBkYXRlQXBpRGVsZXRlXG4gICAgdGhpcy5fdXBkYXRlQXBpQWRkTGlrZSA9IHVwZGF0ZUFwaUFkZExpa2VcbiAgICB0aGlzLl91cGRhdGVBcGlSZW1vdmVMaWtlID0gdXBkYXRlQXBpUmVtb3ZlTGlrZVxuXG4gICAgdGhpcy5fY29uZmlybUJ1dHRvbiA9IGNvbmZpcm1CdXR0b25cbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBlbGVtZW50VGVtcGxhdGUgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50JylcbiAgICByZXR1cm4gZWxlbWVudFRlbXBsYXRlXG4gIH1cblxuICAvLyBDSEVDSyBJRiBPSyBUTyBERUxFVEVcblxuICBfY29uZmlybVRvRGVsZXRlKGRlbGV0ZUJ1dHRvbikge1xuICAgIGNvbnNvbGUubG9nKHRoaXMuX2NvbmZpcm1CdXR0b24pO1xuICAgIHRoaXMuX2NvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZih0aGlzLl9jb25maXJtQnV0dG9uLmlkICsgXCJva1wiID09PSBkZWxldGVCdXR0b24uaWQgKVxuICAgICAgeyBjb25zb2xlLmxvZyh0aGlzLl9jb25maXJtQnV0dG9uLmlkICsgXCJva1wiID09PSBkZWxldGVCdXR0b24uaWQgKTtcbiAgICAgICAgY29uc3QgZGVsZXRlZENhcmQgPSBkZWxldGVCdXR0b24uY2xvc2VzdChcIi5lbGVtZW50XCIpO1xuICAgICAgICBkZWxldGVkQ2FyZC5yZW1vdmUoKTt9XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qIEV2ZW50IGxpc3RlbmVyIGZvciBEZWxldGUgQnV0dG9uICovXG5cbiAgX2hhbmRsZURlbGV0ZUJ1dHRvbigpIHtcbiAgICBjb25zdCBkZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5kZWxldGUtYnV0dG9uJyk7XG4gICAgaWYgKHRoaXMuX293bmVyID09PSB0aGlzLl91c2VySUQpIHtcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5fb3BlbkNvbmZpcm1EZWxldGUoKTtcbiAgICAgICAgdGhpcy5fY29uZmlybUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCB0aGlzLl9pZCk7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCB0aGlzLl9pZCArIFwib2tcIik7XG4gICAgICAgIHRoaXMuX2NvbmZpcm1Ub0RlbGV0ZShkZWxldGVCdXR0b24pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZUJ1dHRvbi5yZW1vdmUoKVxuICAgIH1cbiAgfVxuXG4gIF9saWtlRWxlbWVudChsaWtlQnV0dG9uKSB7XG4gICAgbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdsaWtlLWJ1dHRvbl9hY3RpdmF0ZWQnKVxuICAgIGlmIChsaWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnbGlrZS1idXR0b25fYWN0aXZhdGVkJykpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUFwaUFkZExpa2UodGhpcyx0aGlzLl9pZClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdXBkYXRlQXBpUmVtb3ZlTGlrZSh0aGlzLHRoaXMuX2lkKTtcbiAgICB9XG4gIH1cblxuICAvKiBFdmVudCBsaXN0ZW5lciBmb3IgTGlrZSBCdXR0b24gKi9cbiAgX2hhbmRsZUxpa2VCdXR0b24oKSB7XG4gICAgY29uc3QgbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmxpa2UtYnV0dG9uJyk7XG4gICAgaWYgKHRoaXMuX2xpa2VzLnNvbWUoaSA9PiBpLl9pZCA9PT0gdGhpcy5fdXNlcklEKSkge1xuICAgICAgbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdsaWtlLWJ1dHRvbl9hY3RpdmF0ZWQnKVxuICAgIH07XG4gICAgbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2xpa2VFbGVtZW50KGxpa2VCdXR0b24pO1xuICAgIH0pXG4gIH1cblxuICAvKiBFdmVudCBsaXN0ZXIgZm9yIENhcmQgQ2xpY2sgKi9cbiAgX2hhbmRsZUNhcmRDbGljaygpIHtcbiAgICBjb25zdCBjcmVhdGVkRWxlbWVudEltYWdlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKVxuICAgIGNyZWF0ZWRFbGVtZW50SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9vcGVuUG9wVXBPbkNsaWNrKHRoaXMuX2xpbmssIHRoaXMuX25hbWUpXG4gICAgfSlcbiAgfVxuXG4gIC8qIHVwZGF0ZSBudW1iZXIgb2YgbGlrZXMgKi9cbiAgdXBkYXRlTGlrZXMobmV3TGlrZXMpIHtcbiAgICBjb25zdCBudW1iZXJPZkxpa2VzID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1jb3VudCcpO1xuICAgIG51bWJlck9mTGlrZXMudGV4dENvbnRlbnQgPSBuZXdMaWtlc1xuICB9XG5cbiAgLyogUmV0dXJuIElEICovXG4gIGdldENhcmRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faWRcbiAgfVxuXG5cbiAgLyogTWV0aG9kIHRvIGNyZWF0ZSBlYWNoIGNhcmQqL1xuXG4gIGNyZWF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZCA9IHRoaXMuX2dldFRlbXBsYXRlKCkuY2xvbmVOb2RlKHRydWUpXG5cbiAgICBjb25zdCBjcmVhdGVkRWxlbWVudEltYWdlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKVxuICAgIGNvbnN0IGNyZWF0ZWRFbGVtZW50VGl0bGUgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpXG5cbiAgICAvLyBmaWxsIGVhY2ggZWxlbWVudCB3aXRoIGNvcnJlc3BvbmRpbmcgaW5pdGlhbCBjb250ZW50XG4gICAgY3JlYXRlZEVsZW1lbnRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWVcbiAgICBjcmVhdGVkRWxlbWVudEltYWdlLnNyYyA9IHRoaXMuX2xpbmtcbiAgICBjcmVhdGVkRWxlbWVudEltYWdlLmFsdCA9IGAke3RoaXMuX25hbWV9IHBpY3R1cmVgXG5cbiAgICAvLyBoYW5kbGUgYWxsIGJ1dHRvbnMgYW5kIGNsaWNrc1xuICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24oKVxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljaygpXG4gICAgdGhpcy51cGRhdGVMaWtlcyh0aGlzLl9saWtlcy5sZW5ndGgpXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKClcblxuICAgIHJldHVybiB0aGlzLl9jYXJkXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FyZCIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3RvcilcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtYnV0dG9uJylcbiAgICB0aGlzLl9vdmVybGF5ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fb3ZlcmxheScpXG4gICAgdGhpcy5faGFuZGxlQ2xvc2VCeUVzY2FwZSA9IHRoaXMuX2hhbmRsZUNsb3NlQnlFc2NhcGUuYmluZCh0aGlzKVxuICB9XG5cbiAgb3BlblBvcFVwKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVDbG9zZUJ5RXNjYXBlKVxuICB9XG5cbiAgY2xvc2VQb3BVcCgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJylcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlQ2xvc2VCeUVzY2FwZSlcbiAgfVxuXG4gIF9oYW5kbGVDbG9zZUJ5RXNjYXBlKGV2ZW50KSB7XG4gICAgY29uc3Qga2V5ID0gZXZlbnQua2V5XG4gICAgaWYgKGtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuY2xvc2VQb3BVcCgpXG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlUG9wVXAoKVxuICAgIH0pXG4gICAgdGhpcy5fb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2VQb3BVcCgpXG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vcG9wdXAuanMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3RvcilcbiAgICB0aGlzLl9wb3B1cFBpY3R1cmUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19waWN0dXJlJylcbiAgICB0aGlzLl9wb3B1cENhcHRpb24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICcucG9wdXBfX3BpY3R1cmUtY2FwdGlvbidcbiAgICApXG4gIH1cblxuICBvcGVuUG9wVXAobGluaywgY2FwdGlvbikge1xuICAgIHRoaXMuX3BvcHVwUGljdHVyZS5zcmMgPSBsaW5rXG4gICAgdGhpcy5fcG9wdXBDYXB0aW9uLnRleHRDb250ZW50ID0gY2FwdGlvblxuICAgIHRoaXMuX3BvcHVwUGljdHVyZS5hbHQgPSBgJHt0aGlzLl9uYW1lfSBwaWN0dXJlYFxuICAgIHN1cGVyLm9wZW5Qb3BVcCgpXG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL3BvcHVwLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBmb3JtU3VibWl0KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3RvcilcbiAgICB0aGlzLl9mb3JtU3VibWl0ID0gZm9ybVN1Ym1pdFxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpXG4gICAgdGhpcy5faW5wdXRzID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKVxuICAgIClcbiAgfVxuXG4gIC8vIGNhdGNoIGlucHV0IHZhbHVlc1xuXG4gIGdldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge31cbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHsgXG4gICAgICBjb25zdCB7bmFtZSwgdmFsdWV9ID0gaW5wdXRcbiAgICAgIGlucHV0VmFsdWVzW25hbWVdID0gdmFsdWUgXG4gICAgfSlcbiAgICBjb25zb2xlLmxvZyhpbnB1dFZhbHVlcyk7XG4gICAgcmV0dXJuKGlucHV0VmFsdWVzKTtcbiAgfVxuXG4gIG9wZW5Qb3BVcCgpIHtcbiAgICB0aGlzLmdldElucHV0VmFsdWVzKClcbiAgICBzdXBlci5vcGVuUG9wVXAoKVxuICB9XG5cblxuICBjbG9zZVBvcFVwKCkge1xuICAgIHN1cGVyLmNsb3NlUG9wVXAoKVxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KClcbiAgfSBcblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9mb3JtU3VibWl0KCk7XG4gICAgfSlcbiAgfVxufVxuXG5cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL3BvcHVwLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHVwZGF0ZUFwaURlbGV0ZSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpXG4gICAgdGhpcy5fY29uZmlybUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbmZpcm0tYnV0dG9uXCIpXG4gICAgdGhpcy5fdXBkYXRlQXBpRGVsZXRlID0gdXBkYXRlQXBpRGVsZXRlXG4gIH1cblxuICBfZGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9kZWxldGVDYXJkSWQgPSB0aGlzLl9jb25maXJtQnV0dG9uLmdldEF0dHJpYnV0ZShcImlkXCIpO1xuICAgIHRoaXMuX3VwZGF0ZUFwaURlbGV0ZSh0aGlzLl9kZWxldGVDYXJkSWQpO1xuICB9XG5cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpXG4gICAgdGhpcy5fY29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2RlbGV0ZUNhcmQoKVxuICAgIH0pXG4gIH1cbn1cblxuXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKG5hbWVWYWx1ZSwgYWJvdXRWYWx1ZSwgYXZhdGFySW1hZ2UsIG5hbWVJbnB1dCwgYWJvdXRJbnB1dCkge1xuXG4gICAgdGhpcy5fbmFtZVZhbHVlID0gbmFtZVZhbHVlXG4gICAgdGhpcy5fYWJvdXRWYWx1ZSA9IGFib3V0VmFsdWVcbiAgICB0aGlzLl9hdmF0YXJJbWFnZSA9IGF2YXRhckltYWdlXG5cbiAgICB0aGlzLl9uYW1lSW5wdXQgPSBuYW1lSW5wdXRcbiAgICB0aGlzLl9hYm91dElucHV0ID0gYWJvdXRJbnB1dFxuICB9XG5cbiAgZ2V0VXNlcklkKCkge1xuICAgIHJldHVybiB0aGlzLl9pZFxuICB9XG5cbiAgZ2V0VXNlck5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX25hbWVWYWx1ZS50ZXh0Q29udGVudFxuICB9XG5cbiAgZ2V0VXNlckFib3V0KCkge1xuICAgIHJldHVybiB0aGlzLl9hYm91dFZhbHVlLnRleHRDb250ZW50XG4gIH1cblxuICBnZXRVc2VyQXZhdGFyKCkge1xuICAgIHJldHVybiB0aGlzLl9hdmF0YXJcbiAgfVxuXG5cbiAgc2V0VXNlckluZm8odXNlckRhdGEpIHtcbiAgICB0aGlzLl9uYW1lVmFsdWUudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5uYW1lXG4gICAgdGhpcy5fYWJvdXRWYWx1ZS50ZXh0Q29udGVudCA9IHVzZXJEYXRhLmFib3V0XG4gICAgdGhpcy5fYXZhdGFySW1hZ2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoJ1wiICsgdXNlckRhdGEuYXZhdGFyICsgXCInKVwiXG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBkYXRhLCByZW5kZXJlciB9LCBjYXJkQ29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gZGF0YVxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXJcbiAgICB0aGlzLl9jYXJkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjYXJkQ29udGFpbmVyU2VsZWN0b3IpXG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKVxuICB9XG5cbiAgYWRkQ2FyZChjYXJkKSB7XG4gICAgdGhpcy5fY2FyZENvbnRhaW5lci5wcmVwZW5kKGNhcmQpXG4gIH1cbn1cbiIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBiYXNlVXJsLFxuICAgIGhlYWRlcnNcbiAgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnNcbiAgfVxuXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgfVxuICAgIC8vIGlmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBlcnJvciwgcmVqZWN0IHRoZSBwcm9taXNlXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApXG4gIH1cblxuXG4gIC8vR0VUIGh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtNy9jYXJkc1xuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzJywge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSlcbiAgfVxuXG4gIC8vIEdFVCBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTcvdXNlcnMvbWVcbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL3VzZXJzL21lJywge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSlcbiAgfVxuXG4gIC8vIFBBVENIIGh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtNy91c2Vycy9tZVxuICBlZGl0VXNlckluZm8obmFtZSwgYWJvdXQpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvdXNlcnMvbWUnLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBhYm91dDogYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSlcbiAgfVxuXG4gIC8vIFBPU1QgaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC03L2NhcmRzXG4gIHBvc3ROZXdDYXJkKG5hbWUsIGxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvY2FyZHMnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGxpbms6IGxpbmssXG4gICAgICB9KSxcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSlcbiAgfVxuXG4gIC8vIERFTEVURSBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTcvY2FyZHMvY2FyZElkXG4gIGRlbGV0ZUNhcmQoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvY2FyZHMvJyArIGlkLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSlcbiAgfVxuXG4gIC8vIFBVVCBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTcvY2FyZHMvbGlrZXMvY2FyZElkXG4gIGFkZENhcmRMaWtlKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzL2xpa2VzLycgKyBpZCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcykpXG4gIH1cblxuICAvLyBERUxFVEUgaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC03L2NhcmRzL2xpa2VzL2NhcmRJZFxuICByZW1vdmVDYXJkTGlrZShpZCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy9jYXJkcy9saWtlcy8nICsgaWQsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKVxuICB9XG5cbiAgLy8gUEFUQ0ggaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC03L3VzZXJzL21lL2F2YXRhclxuICBlZGl0VXNlckF2YXRhcihhdmF0YXIpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvdXNlcnMvbWUvYXZhdGFyJywge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBhdmF0YXIsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcGkiLCIvLyBpbml0aWFsIGZvcm0gc2V0dGluZ3NcclxuXHJcbmNvbnN0IHNldHRpbmdzID0ge1xyXG4gICAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICAgIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19idXR0b24nLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b25fZGlzYWJsZWQnLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxyXG4gICAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJyxcclxuICB9XHJcbiAgXHJcbiAgLy8gYWNjZXNzIGdlbmVyYWwgYnV0dG9uc1xyXG4gIFxyXG4gIGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWRpdC1idXR0b24nKVxyXG4gIGNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtYnV0dG9uJylcclxuICBjb25zdCBjb25maXJtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbmZpcm0tYnV0dG9uJylcclxuICBcclxuICBcclxuICAvLyBhY2Nlc3MgcHJvZmlsZSBmb3JtXHJcbiAgY29uc3QgZm9ybUVsZW1lbnRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX3R5cGVfcHJvZmlsZScpXHJcbiAgY29uc3QgbmFtZUlucHV0ID0gZm9ybUVsZW1lbnRQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdmFsdWVfbmFtZScpXHJcbiAgY29uc3QgYWJvdXRJbnB1dCA9IGZvcm1FbGVtZW50UHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3ZhbHVlX2Fib3V0JylcclxuICBjb25zdCBuYW1lVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpXHJcbiAgY29uc3QgYWJvdXRWYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hYm91dCcpXHJcbiAgY29uc3Qgc2F2ZVByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2F2ZS1idXR0b24nKVxyXG4gIFxyXG4gIC8vIGFjY2VzcyBhdmF0YXIgZm9ybVxyXG4gIGNvbnN0IGZvcm1FbGVtZW50QXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX3R5cGVfbmV3QXZhdGFyJylcclxuICBjb25zdCBzYXZlQXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNhdmVBdmF0YXItYnV0dG9uJylcclxuICBjb25zdCBhdmF0YXJJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hdmF0YXInKVxyXG4gIGNvbnN0IGF2YXRhckhvdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmF2YXRhci1ob3ZlcicpXHJcbiAgXHJcbiAgXHJcbiAgLy8gYWNjZXNzIHBsYWNlIGZvcm1cclxuICBjb25zdCBmb3JtRWxlbWVudFBsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX3R5cGVfbmV3UGxhY2UnKVxyXG4gIGNvbnN0IHBsYWNlVGl0bGVJbnB1dCA9IGZvcm1FbGVtZW50UGxhY2UucXVlcnlTZWxlY3RvcihcclxuICAgICcucG9wdXBfX2lucHV0X3ZhbHVlX3BsYWNlVGl0bGUnXHJcbiAgKVxyXG4gIGNvbnN0IHBsYWNlSW1hZ2VVcmwgPSBmb3JtRWxlbWVudFBsYWNlLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAnLnBvcHVwX19pbnB1dF92YWx1ZV9wbGFjZUltYWdlTGluaydcclxuICApXHJcbiAgY29uc3QgY3JlYXRlUGxhY2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3JlYXRlLWJ1dHRvbicpXHJcbiAgXHJcbiAgXHJcbiAgXHJcbiAgLy9jb25zdCBlbGVtZW50VGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnQtdGVtcGxhdGVcIikuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIik7Ly9cclxuICAvL2NvbnN0IGVsZW1lbnRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50cycpXHJcbiAgXHJcbiAgLy8gY29uc3QgZm9yIGFsbCBBcGkgcmVxdWVzdHNcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBzZXR0aW5ncyxcclxuICAgIGVkaXRCdXR0b24sXHJcbiAgICBhZGRCdXR0b24sXHJcbiAgICBmb3JtRWxlbWVudFByb2ZpbGUsXHJcbiAgICBuYW1lSW5wdXQsXHJcbiAgICBuYW1lVmFsdWUsXHJcbiAgICBhYm91dElucHV0LFxyXG4gICAgYWJvdXRWYWx1ZSxcclxuICAgIHNhdmVQcm9maWxlQnV0dG9uLFxyXG4gICAgZm9ybUVsZW1lbnRBdmF0YXIsXHJcbiAgICBzYXZlQXZhdGFyQnV0dG9uLFxyXG4gICAgYXZhdGFySW1hZ2UsXHJcbiAgICBhdmF0YXJIb3ZlcixcclxuICAgIGZvcm1FbGVtZW50UGxhY2UsXHJcbiAgICBwbGFjZVRpdGxlSW5wdXQsXHJcbiAgICBwbGFjZUltYWdlVXJsLFxyXG4gICAgY3JlYXRlUGxhY2VCdXR0b24sXHJcbiAgICBjb25maXJtQnV0dG9uXHJcbiAgfSIsIi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gICAgSU1QT1JURUQgQ0xBU1NFU1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vIFRlc3QgaW1wb3J0IG9mIHN0eWxlc1xuaW1wb3J0ICcuL2luZGV4LmNzcydcblxuXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL2Zvcm1WYWxpZGF0b3IuanMnXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL2NhcmQuanMnXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9wb3B1cFdpdGhJbWFnZS5qcydcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvcG9wdXBXaXRoRm9ybS5qcydcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSAnLi4vY29tcG9uZW50cy9wb3B1cFdpdGhDb25maXJtYXRpb24uanMnXG5cbmltcG9ydCBVc2VyaW5mbyBmcm9tICcuLi9jb21wb25lbnRzL3VzZXJJbmZvLmpzJ1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9zZWN0aW9uLmpzJ1xuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL2FwaS5qcydcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vICAgIEdMT0JBTCBWQVJJQUJMRVNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLyogbXkgcHJvZmlsZSBpcyBtdWNoIHNsb3dlciB0byB1cGRhdGUgd2hlbiBJIHB1dCBteSBjb25zdGFudHMgaW4gYW5vdGhlciBmb2xkZXIgKi9cblxuaW1wb3J0IHtcbiAgc2V0dGluZ3MsXG4gIGVkaXRCdXR0b24sXG4gIGFkZEJ1dHRvbixcbiAgZm9ybUVsZW1lbnRQcm9maWxlLFxuICBuYW1lSW5wdXQsXG4gIG5hbWVWYWx1ZSxcbiAgYWJvdXRJbnB1dCxcbiAgYWJvdXRWYWx1ZSxcbiAgc2F2ZVByb2ZpbGVCdXR0b24sXG4gIGZvcm1FbGVtZW50QXZhdGFyLFxuICBzYXZlQXZhdGFyQnV0dG9uLFxuICBhdmF0YXJJbWFnZSxcbiAgYXZhdGFySG92ZXIsXG4gIGZvcm1FbGVtZW50UGxhY2UsXG4gIHBsYWNlVGl0bGVJbnB1dCxcbiAgcGxhY2VJbWFnZVVybCxcbiAgY3JlYXRlUGxhY2VCdXR0b24sXG4gIGNvbmZpcm1CdXR0b25cbn1cbmZyb20gJy4uL2NvbXBvbmVudHMvdXRpbHMvY29uc3RhbnRzLmpzJ1xuXG5cbi8vY29uc3QgbXlJZCA9ICczYTUxYmFiMTUyNjZmN2YyNWFjZDc5ZDgnXG5sZXQgbXlJZFxuY29uc29sZS5sb2cobXlJZCk7XG5sZXQgY2FyZExpc3RcblxuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogJ2h0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtNycsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiAnOWRmNTJmOWYtY2MxNy00NDc1LTkzYWQtNjA3YzU2OWEzZjRiJyxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICB9LFxufSlcblxuLy8gY3JlYXRlIFVzZXJcbmNvbnN0IHVzZXIgPSBuZXcgVXNlcmluZm8obmFtZVZhbHVlLCBhYm91dFZhbHVlLCBhdmF0YXJJbWFnZSwgbmFtZUlucHV0LCBhYm91dElucHV0KTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyAgICBBTEwgRlVOQ1RJT05TXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gQ0FSRCBDUkVBVElPTlxuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKG5ld1BsYWNlLCBteUlkKSB7XG4gIGNvbnN0IG5ld1BsYWNlQ2FyZCA9IG5ldyBDYXJkKFxuICAgIG5ld1BsYWNlLFxuICAgIG15SWQsXG4gICAgJy5lbGVtZW50LXRlbXBsYXRlJyxcbiAgICBvcGVuUG9wVXBPbkNsaWNrLFxuICAgIG9wZW5Db25maXJtRGVsZXRlLFxuICAgIHVwZGF0ZUFwaURlbGV0ZSxcbiAgICB1cGRhdGVBcGlBZGRMaWtlLFxuICAgIHVwZGF0ZUFwaVJlbW92ZUxpa2UsXG4gICAgY29uZmlybUJ1dHRvblxuICApXG4gIGNvbnN0IG5ld0NyZWF0ZWRDYXJkID0gbmV3UGxhY2VDYXJkLmNyZWF0ZUNhcmQoKVxuICByZXR1cm4gbmV3Q3JlYXRlZENhcmRcbiAgLy9jYXJkTGlzdC5hZGRDYXJkKG5ld0NyZWF0ZWRDYXJkKVxufVxuXG5cblxuLy8gRk9STSBTVUJNSVNTSU9OU1xuXG4vLyBmdW5jdGlvbiB0byBzdWJtaXQgcHJvZmlsZSBmb3JtIGFuZCB1cGRhdGUgdXNlciBpbmZvXG5cbmZ1bmN0aW9uIHByb2ZpbGVGb3JtU3VibWl0KCkge1xuICBjb25zdCB7XG4gICAgcHJvZmlsZU5hbWVJbnB1dCxcbiAgICBwcm9maWxlQWJvdXRJbnB1dFxuICB9ID0gcHJvZmlsZVBvcFVwLmdldElucHV0VmFsdWVzKCk7XG5cbiAgc2F2ZVByb2ZpbGVCdXR0b24udGV4dENvbnRlbnQgPSAnU2F2aW5nLi4uJztcblxuICBhcGlcbiAgICAuZWRpdFVzZXJJbmZvKHByb2ZpbGVOYW1lSW5wdXQsIHByb2ZpbGVBYm91dElucHV0KVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICBzYXZlUHJvZmlsZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTYXZlZCc7XG4gICAgICB1c2VyLnNldFVzZXJJbmZvKHJlc3VsdCk7XG4gICAgICBjb25zb2xlLmxvZyh1c2VyKTtcbiAgICAgIHByb2ZpbGVQb3BVcC5jbG9zZVBvcFVwKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgIH0pXG59XG5cbi8vIGZ1bmN0aW9uIHRvIHN1Ym1pdCBuZXcgUGxhY2UgZm9ybSBhbmQgY3JlYXRlIGEgbmV3IHBsYWNlXG5cbmZ1bmN0aW9uIG5ld1BsYWNlRm9ybVN1Ym1pdCgpIHtcbiAgY29uc3QgbmV3UGxhY2UgPSB7fVxuICBjb25zdCB7XG4gICAgcGxhY2VUaXRsZUlucHV0LFxuICAgIHBsYWNlSW1hZ2VMaW5rSW5wdXQsXG4gIH0gPSBuZXdQbGFjZVBvcFVwLmdldElucHV0VmFsdWVzKClcblxuICBuZXdQbGFjZS5uYW1lID0gcGxhY2VUaXRsZUlucHV0XG4gIG5ld1BsYWNlLmxpbmsgPSBwbGFjZUltYWdlTGlua0lucHV0XG4gIGNyZWF0ZVBsYWNlQnV0dG9uLnRleHRDb250ZW50ID0gJ1NhdmluZy4uLidcblxuXG4gIC8vIHBvc3QgTmV3IGNyZWF0ZWQgQ2FyZCB0byBBcGlcbiAgYXBpXG4gICAgLnBvc3ROZXdDYXJkKHBsYWNlVGl0bGVJbnB1dCwgcGxhY2VJbWFnZUxpbmtJbnB1dClcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBjcmVhdGVQbGFjZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTYXZlZCc7XG4gICAgICBjb25zdCBuZXdDcmVhdGVkQ2FyZCA9IGNyZWF0ZUNhcmQocmVzdWx0LCBteUlkKTtcbiAgICAgIGNhcmRMaXN0LmFkZENhcmQobmV3Q3JlYXRlZENhcmQpO1xuICAgICAgbmV3UGxhY2VQb3BVcC5jbG9zZVBvcFVwKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgIH0pXG59XG5cbi8vIGZ1bmN0aW9uIHRvIHN1Ym1pdCBuZXcgQXZhdGFyIGltYWdlIGFuZCB1cGRhdGUgcHJvZmlsZSBpbWFnZVxuXG5mdW5jdGlvbiBuZXdBdmF0YXJGb3JtU3VibWl0KCkge1xuICBjb25zdCB2YWx1ZXMgPSBuZXdBdmF0YXJQb3BVcC5nZXRJbnB1dFZhbHVlcygpO1xuICBjb25zdCBsaW5rID0gdmFsdWVzLmF2YXRhckxpbms7XG5cbiAgaWYgKGxpbmsgPT0gJycpIHtcbiAgICBjb25zb2xlLmxvZygnbm8gaW5wdXQnKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhsaW5rKTtcbiAgICBzYXZlQXZhdGFyQnV0dG9uLnRleHRDb250ZW50ID0gJ1NhdmluZy4uLic7XG4gICAgLy8gcG9zdCBOZXcgQXZhdGFyIGxpbmsgdG8gQXBpXG4gICAgYXBpXG4gICAgICAuZWRpdFVzZXJBdmF0YXIobGluaylcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgdXNlci5zZXRVc2VySW5mbyhyZXN1bHQpO1xuICAgICAgICBzYXZlQXZhdGFyQnV0dG9uLnRleHRDb250ZW50ID0gJ1NhdmVkJ1xuICAgICAgICBuZXdBdmF0YXJQb3BVcC5jbG9zZVBvcFVwKClcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9KVxuICB9XG59XG5cbi8vIE9QRU5JTkcgUE9QIFVQU1xuXG4vLyBmdW5jdGlvbiB0byBvcGVuIHBpY3R1cmUgcG9wdXAgb24gY2xpY2tcbmZ1bmN0aW9uIG9wZW5Qb3BVcE9uQ2xpY2sobGluaywgY2FwdGlvbikge1xuICBwaWN0dXJlUG9wVXAub3BlblBvcFVwKGxpbmssIGNhcHRpb24pXG59XG5cbi8vIGZ1bmN0aW9uIHRvIG9wZW4gY29uZmlybSBkZWxldGUgcG9wdXAgb24gY2xpY2tcbmZ1bmN0aW9uIG9wZW5Db25maXJtRGVsZXRlKCkge1xuICBjb25maXJtRGVsZXRlUG9wVXAub3BlblBvcFVwKClcbn1cblxuXG4vLyBVUERBVEVTIFRPIEFQSVxuXG4vLyBmdW5jdGlvbiB0byBkZWxldGUgQ2FyZCBpbiBBcGlcbmZ1bmN0aW9uIHVwZGF0ZUFwaURlbGV0ZShjYXJkSWQpIHtcbiAgYXBpXG4gICAgLmRlbGV0ZUNhcmQoY2FyZElkKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdClcbiAgICAgIGNvbmZpcm1EZWxldGVQb3BVcC5jbG9zZVBvcFVwKClcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgfSlcbn1cblxuLy8gZnVuY3Rpb24gdG8gdXBkYXRlIEFwaSBhZGRpbmcgYSBDYXJkIGxpa2VcbmZ1bmN0aW9uIHVwZGF0ZUFwaUFkZExpa2UoY2FyZCwgaWQpIHtcbiAgYXBpXG4gICAgLmFkZENhcmRMaWtlKGlkKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCwgcmVzdWx0Lmxpa2VzLmxlbmd0aCk7XG4gICAgICBjb25zdCBuZXdMaWtlcyA9IHJlc3VsdC5saWtlcy5sZW5ndGg7XG4gICAgICBjYXJkLnVwZGF0ZUxpa2VzKG5ld0xpa2VzKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgfSlcbn1cblxuLy8gZnVuY3Rpb24gdG8gdXBkYXRlIEFwaSByZW1vdmluZyBhIENhcmQgbGlrZVxuZnVuY3Rpb24gdXBkYXRlQXBpUmVtb3ZlTGlrZShjYXJkLCBpZCkge1xuICBhcGlcbiAgICAucmVtb3ZlQ2FyZExpa2UoaWQpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgY29uc29sZS5sb2cocmVzdWx0LCByZXN1bHQubGlrZXMubGVuZ3RoKTtcbiAgICAgIGNvbnN0IG5ld0xpa2VzID0gcmVzdWx0Lmxpa2VzLmxlbmd0aDtcbiAgICAgIGNhcmQudXBkYXRlTGlrZXMobmV3TGlrZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICB9KVxufVxuXG5cblxuLy8gZnVuY3Rpb24gdG8gdXBkYXRlIENhcmRMaXN0XG5mdW5jdGlvbiB1cGRhdGVDYXJkTGlzdChpbmZvKSB7XG4gIGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xuICAgICAgZGF0YTogaW5mbyxcbiAgICAgIHJlbmRlcmVyOiAoY2FyZCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdDcmVhdGVkQ2FyZCA9IGNyZWF0ZUNhcmQoY2FyZCwgbXlJZCk7XG4gICAgICAgIGNhcmRMaXN0LmFkZENhcmQobmV3Q3JlYXRlZENhcmQpO1xuICAgICAgfSxcbiAgICB9LFxuICAgICcuZWxlbWVudHMnXG4gIClcbiAgY2FyZExpc3QucmVuZGVySXRlbXMoKVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vICAgIEFDVElPTlMgVE8gSU5JVElBTElTRSBQQUdFXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gaW5zdHJ1Y3Rpb25zIHRvIGNyZWF0ZSBpbml0aWFsIGNhcmRzIGFuZCB1c2VyIGluZm9cbi8vIGNhbGxpbmcgYm90aCBwcm9taXNlcyB0b2dldGhlclxuXG5Qcm9taXNlLmFsbChbYXBpLmdldEluaXRpYWxDYXJkcygpLCBhcGkuZ2V0VXNlckluZm8oKV0pXG4gIC50aGVuKChbY2FyZHMsIHVzZXJEYXRhXSkgPT4ge1xuICAgIHVwZGF0ZUNhcmRMaXN0KGNhcmRzKTtcbiAgICBjb25zb2xlLmxvZyhjYXJkcyk7XG4gICAgY29uc29sZS5sb2codXNlckRhdGEpO1xuICAgIG15SWQgPSB1c2VyRGF0YS5faWQ7XG4gICAgdXNlci5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XG4gICAgbmFtZUlucHV0LnZhbHVlID0gdXNlckRhdGEubmFtZTtcbiAgICBhYm91dElucHV0LnZhbHVlID0gdXNlckRhdGEuYWJvdXQ7XG4gICAgY29uc29sZS5sb2codXNlcik7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKVxuICB9KVxuXG5cbi8vUHJvbWlzZSBzeW50YXggaW5kaXZpZHVhbCAtIE5PVCBORUVERUQgQlVUIEtFRVBJTkcgRk9SIFBFUlNPTkFMIFJFRkVSRU5DRVxuXG5jb25zdCBwcm9taXNlZm9yQ2FyZHMgPVxuICBhcGlcbiAgLmdldEluaXRpYWxDYXJkcygpXG4gIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICB1cGRhdGVDYXJkTGlzdChyZXN1bHQpO1xuICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKVxuICB9KVxuXG5cbi8vUHJvbWlzZSBzeW50YXggaW5kaXZpZHVhbCAtIE5PVCBORUVERUQgQlVUIEtFRVBJTkcgRk9SIFBFUlNPTkFMIFJFRkVSRU5DRVxuXG5jb25zdCBwcm9taXNlZm9yVXNlciA9XG5hcGlcbiAgLmdldFVzZXJJbmZvKClcbiAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgIG15SWQgPSByZXN1bHQuX2lkO1xuICAgIHVzZXIuc2V0VXNlckluZm8ocmVzdWx0KTtcbiAgICBuYW1lSW5wdXQudmFsdWUgPSByZXN1bHQubmFtZTtcbiAgICBhYm91dElucHV0LnZhbHVlID0gcmVzdWx0LmFib3V0O1xuICAgIGNvbnNvbGUubG9nKHVzZXIpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVycilcbiAgfSlcblxuXG4vLyBjcmVhdGUgcGljdHVyZSBwb3B1cFxuXG5jb25zdCBwaWN0dXJlUG9wVXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF90eXBlX3BpY3R1cmUnKVxucGljdHVyZVBvcFVwLnNldEV2ZW50TGlzdGVuZXJzKClcblxuLy8gY3JlYXRlIGNvbmZpcm0gZGVsZXRlIHBvcHVwXG5jb25zdCBjb25maXJtRGVsZXRlUG9wVXAgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKCcucG9wdXBfdHlwZV9jb25maXJtRGVsZXRlJywgdXBkYXRlQXBpRGVsZXRlKTtcbmNvbmZpcm1EZWxldGVQb3BVcC5zZXRFdmVudExpc3RlbmVycygpXG5cbi8vIGluc3RydWN0aW9uIHRvIGNyZWF0ZSBmb3JtIHZhbGlkYXRvcnNcblxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgZm9ybUVsZW1lbnRQcm9maWxlKVxuY29uc3QgcGxhY2VGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50UGxhY2UpXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50QXZhdGFyKVxuXG5wcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKClcbnBsYWNlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKClcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpXG5cbi8vIGluc3RydWN0aW9ucyB0byBjcmVhdGUgZm9ybSBwb3B1cHNcblxuY29uc3QgcHJvZmlsZVBvcFVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gICcucG9wdXBfdHlwZV9lZGl0UHJvZmlsZScsXG4gIHByb2ZpbGVGb3JtU3VibWl0XG4pXG5cblxuY29uc3QgbmV3UGxhY2VQb3BVcCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICAnLnBvcHVwX3R5cGVfbmV3UGxhY2UnLFxuICBuZXdQbGFjZUZvcm1TdWJtaXRcbilcblxuY29uc3QgbmV3QXZhdGFyUG9wVXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgJy5wb3B1cF90eXBlX25ld0F2YXRhcicsXG4gIG5ld0F2YXRhckZvcm1TdWJtaXRcbilcblxuLy8gc2V0IGV2ZW50IGxpc3RlbmVyc1xuXG5wcm9maWxlUG9wVXAuc2V0RXZlbnRMaXN0ZW5lcnMoKVxuXG5uZXdQbGFjZVBvcFVwLnNldEV2ZW50TGlzdGVuZXJzKClcblxubmV3QXZhdGFyUG9wVXAuc2V0RXZlbnRMaXN0ZW5lcnMoKVxuXG4vLyBpbnN0cnVjdGlvbnMgZm9yIGVkaXQgcHJvZmlsZSBidXR0b25cblxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcHJvZmlsZVBvcFVwLm9wZW5Qb3BVcCgpO1xuICBuYW1lSW5wdXQudmFsdWUgPSB1c2VyLmdldFVzZXJOYW1lKCk7XG4gIGFib3V0SW5wdXQudmFsdWUgPSB1c2VyLmdldFVzZXJBYm91dCgpO1xufSlcblxuLy8gaW5zdHJ1Y3Rpb25zIGZvciBhZGQgYnV0dG9uXG5cbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgbmV3UGxhY2VQb3BVcC5vcGVuUG9wVXAoKVxufSlcblxuXG4vLyBpbnN0cnVjdGlvbiBmb3IgYXZhdGFyIGltYWdlIG9uIGNsaWNrXG5hdmF0YXJJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgbmV3QXZhdGFyUG9wVXAub3BlblBvcFVwKClcbn0pXG5cbi8vIGluc3RydWN0aW9ucyBmb3IgYXZhdGFyIGltYWdlIG9uIGhvdmVyIGFuZCBvZmYgaG92ZXIoIG5vIHdheSB0byBnZXQgOmhvdmVyIGZ1bmN0aW9uaW5nIG9uIGNzcyB1bmZvcnR1bmF0ZWx5IDotKCApXG5hdmF0YXJJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gIGF2YXRhckhvdmVyLnN0eWxlLm9wYWNpdHkgPSAxXG59KVxuXG5hdmF0YXJJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpID0+IHtcbiAgYXZhdGFySG92ZXIuc3R5bGUub3BhY2l0eSA9IDBcbn0pIl0sInNvdXJjZVJvb3QiOiIifQ==